---
title: "Ідеальне дзеркало для ідеальних людей Лівши, Фізика, Ray Tracing"
description: "Історія про те, як батько хлопця, який народився шульгою, на прикладі відеоігор постарався пояснити ущербність такого фізичного явища, як відображення"
# format for string: "xxxx-xx-xx"
date: 2025-02-01
lastmod: "2025-02-01"
# set false when you want the post publish
draft: false
# one category: ["category-1"]
# more categories: ["category-1", "category-2", ...]
categories: ["My Life"]
# refer to categories
tags: ["gaming", "mirrors"]
# seires
series: []
# Top image for the post /local/images/test/cover.jpg
image: "/uk/images/posts/mirror-mechanics/cover.webp"
# Hide from home and other main page
hideFromCenter: false
# Hide from archive page
hideFromArchives: false
# Hide from everything but the archive
hideFromSection: false
# Hide from everything but the Sitemap
hideFromSitemap: false
---
*Історія про те, як батько хлопця, який народився шульгою, на прикладі відеоігор постарався пояснити ущербність такого фізичного явища, як відображення.*

Якось на мою долю випало непросте завдання. Не всі молоді батьки встигають підготуватися до нього.

## Завдання: посвятити чотирирічного сина в ази розуміння пристрою роботи поверхонь, що відображають (дзеркал)

Я не підготувався і це моя помилка, тому що ранній інтерес до двійників у задзеркаллі спрогнозувати було не так складно.

### Додаткова умова: наш із дружиною син – шульга

Я не бачу сенсу в виправданнях, тому що мені працювати з результатом, а не комусь іншому, але задля справедливості варто уточнити, що раніше питання про тему руки, що переважає, оберталися виключно навколо побутових потреб:

- Знайти прописи для шульги. І так, я вважаю нормою почати вчити письма у чотири роки, особливо, якщо дитина на самому початку “відображала” деякі літери, коли писала їх по пам'яті, а не обводила.
- Підібрати геймпад. Пам'ятаю, ми експериментували з геймпадом від Thrustmaster, але зрештою зупинилися на форматі геймпадів Xbox One, що наводить мене на думку про реальність перспективи стати амбідекстром. Мені згадуються доктрини іспанських (якщо не помиляюся) шкіл ножового бою, де людина “з провідною рукою” вважалася людиною з обмеженими можливостями, бо на їхню думку боєць має володіти обома руками однаково.

*До речі, 4 листопада 1947 року боксер на ім'я Майк Коллінс встановив світовий рекорд: будучи лівшою, він з'явився в кутку рингу в лівій стійці (стійка правші), а потім раптово змінив стійку і нокаутував свого суперника Пата Броунсона (Pat Brownson) з першого удару. 4-й секунді матчу. Круто, вражає.*

- Перемикнути провідну руку в Майнкрафт. З одного боку не добре те, що у всіх іграх не можна перемикнути провідну руку, але з іншого – повертаємося до пункту два і робимо висновки.

*Цікавий висновок буде наприкінці статті.*

Отже, до дзеркал мене не готували й взагалі це непроста тема. Коли син поставив мені своє запитання, я почав перебирати теги у хмарах спогадів.

## Що таке віддзеркалення?

*Неповноцінна проєкція\!*

Взагалі, це питання доречніше в психології, тому що в ньому не вистачає важливого фрагмента. Я вважаю, що ще з дитинства потрібно вчити дітей формулювати питання так, щоб діти могли ненароком самостійно відповісти на них або хоча б почати підбиратися до відповіді.

Перефразуємо: *Що таке віддзеркалення світла?* – ось так уже правильно, хоча для непідготовленого може прозвучати дивно. Формулювання нагадує у тому, що у темряві “дзеркало працювати нічого очікувати” створюючи вірний асоціативний зв'язок. Далі відповідаємо на питання.

Відображення світла – явище у фізиці, відкрите Галілео Галілеєм. Вчений провів експеримент, у якому продемонстрував, що частина світла від променя що падає на поверхню відбивається, а інша частина поглинається об'єктом чи проходить крізь нього.

Логічно розвиваємо думку.

### Що таке промінь світла?

Промінь світла – це спрямоване в одному напрямку світло, обмежене у просторовому поширенні, тобто, у напрямах, які перпендикулярні первісному напрямку променя.

Ще дещо важливе у контексті подальшої теми статті, оскільки там я згадаю трасування променів у відеоіграх.

### Людське око може побачити промінь світла?

Може, якщо частина світла розсіяна, наприклад на частинках пилу, що коливаються в повітрі.

І ось.

### Що таке дзеркало?

Дзеркало \- це гладка поверхня з шаром, що відбиває світло. Коли світло падає на дзеркало, воно підкоряється закону відображення. Так і "відмальовується" дзеркало, що сприймається нами, як відображення об'єкта.

Все це не те, що дає зрозумілі відповіді маленькій людині, тож я далі задумливо хмикав.

### Ребут Перельмана

У результаті я витяг з пам'яті пом'ятий і пожовклий підручник фізики для дітей "Цікава фізика Перельмана" і з розумним видом вирік:

\- Як ти думаєш, чи можемо ми бачити дзеркало, сину мій?

Це дозволило мені виграти час. Я нагуглив розділ “Чи можна бачити дзеркало” і почав читати її вголос. Встигнувши забути зміст розділів книги, яку мені читали в дитинстві, незабаром я зрозумів, що цей нехай і непоганий підручник потребує оновленої редакції. Мені доводиться дуже багато вводити цензури в режимі реального часу, ніби я перекладач на переговорах двох ворогуючих фракцій, які часом ображають один одного.

*\>\> Нарешті, у вашого дзеркального двійника є фізична вада, від якої ви, треба думати, вільні: він шульга. Він пише, шиє, їсть лівою рукою, і якщо ви висловите готовність з ним привітатись, він простягне вам ліву руку.*

Ось такі речі я пробігав очима наперед, роблячи театральні паузи під час читання та видавав відредаговані версії:

*\>\> Нарешті, наш двійник має фізичну особливість, від якої ми, треба думати, вільні: він правша. Він пише, шиє, їсть правою рукою, і якщо ми висловимо готовність з ним привітатись, він простягне нам праву руку.*

Це відображення казки про відображення із цензурою, де я звільнив текст від “недоліків”.

Тут питання не тільки в тому, щоб “дитина не засмутилася”. Я припускаю, що бути шульгою – перевага, як максимум і, як мінімум – ідеальна база для розвитку в амбідекстра. Нестандартні умови привід не лише для жалості до себе, а й для зростання. Багатьом правшам (наприклад мені) у дитинстві й не спадало на думку використовувати ліву руку нарівні з правою.

Пам'ятаю смішний випадок, як ми гуляли й син вказав мені на “ведмедя з майнкрафтовим мечем у дупі”. Я деякий час вдивлявся і зрештою зрозумів, що справді \- це пляма схожа на ведмедя (або величезного хом'яка), якому встромили меч з Майнкрафта прямо в дупу, але силует відбитий і самостійно я не побачив би цієї сцени. Проте чувак помічає подібні силуети доступні й для правшів.

## Чому в дзеркалі я правша?

Так звучало питання.

Що ж, я виграв час. З ноутбука я читав голову цікавої фізики Перельмана, займаючись усною цензурою, а тим часом шерстив інтернет у телефоні. Дивуюся, як у мене не роз'їхалися очі подібно до льотчика Апача.

Я дав відповідь:

*Давай спочатку розберемося із дзеркалом. Дзеркало – гладке. Воно може показати нам те, що знаходиться перед ним, але лише тоді, коли є світло. У темряві ми нічого не побачимо в дзеркалі. Не тільки тому, що буде темно і ми не бачитимемо взагалі нічого, але й тому, що дзеркалу нічого буде показати.*

*Дзеркало копіює нас і ми можемо побачити, як виглядаємо, але робить воно це з помилками.*

Не найкраще і тим більше точне пояснення, тоді я це теж розумів і тому запропонував продовжити та порівняти дзеркала в іграх із реальним дзеркалом.

## Реалізація імітації дзеркал у відеоіграх

Ми включили ютуб і почали дивитись різні відео про відображення. Через те, що на момент написання статті я вивчаю Unity всього нічого (тиждень), можу видати не так багато прикладної інформації.

Що ми мали на момент спільного перегляду роликів:

1. Ми розібралися з тим, що без світла не буде відображення і візуально в іграх цей принцип також працює;
2. Відображення буває не тільки в дзеркалах, і це аналогічно актуальне для сучасних 3D ігор;
3. До того, як я розпочав вивчення Unity, я встиг трохи попрацювати з canvas js. Мені було певно відомо, що світлових хвиль у цифровому світі не існує, а відображення – це лише імітації, варіантів реалізацій яких кілька.

Я читав про те, що відблиску на поверхнях у художніх школах присвячують не так мало часу, хоча цей відблиск начебто не так вже й складно для художника відтворити, адже він назавжди застиг у часі, що частково актуально й у разі старих ігор. Відображення та відблиски вручну промальовувалися для створення ідеальної кат-сцени або їх розташування було прораховано на 100% в рамках заскриптованих сценаріїв, які ідеологічно не так сильно відрізняються від кат-сцен, адже в цей момент управління заблоковане. Це мені нагадує ранні методології Діснея, засновані на принципі покадрової анімації, яка, втім, стала вінтажем і використовуються до цього дня (Кошмар перед Різдвом, Баранець Шон).

У старих іграх відображення найчастіше є дублікатами локацій, але з нижчою роздільною здатністю. Крім того, дублюється і модель персонажа гравця, який точно повторює дії під час гри. Прикладів знаю кілька: самий (або один із самих) ранній приклад у грі Dark Edge (1992). Також, згадаю Super Mario 64, в якому завдяки низькій роздільній здатності розробники банально скопіювали рівень. DOOM 3\. І, звичайно, згадаю хол з особняка в Resident Evil, де натерта до блиску напівпрозора "мармурова підлога" на ділі шар приховує під собою вертикальну копію всього залу, як і "клона" гравця.

Згодом лор ігор лише розширювався, відображаючих поверхонь ставало все більше, так що не дивно, що ігропром обзавівся рядом рішень цих майже тривіальних завдань.

### Методології створення відбитків

**Cube Maps** – метод частково застарілий, але актуальний у зв'язку зі своєю ефективністю. Тут основна ідея полягає у накладенні текстур, який використовується в 3D-комп'ютерній графіці (щось подібне я робив у рамках canvas) та комп'ютерних іграх з метою копіювання оточення об'єкта чи сцени. Cube Maps складаються з шести 2D-зображень, кожне з яких є видом з певного напрямку, відповідаючи одній з шести сторін куба. Зазвичай кубічні карти застосовуються для імітації відбиття у воді, склі або на металевих поверхнях і за допомогою вибірки кубічної карти рендер визначає, яка зі сторін куба повинна відображатися (відбиватися) на поверхні об'єкта.

**Planar Reflections** – як я розумію, суть у додатковому етапі рендерингу, в який входить створення кімнати та віртуальна камера, що імітує дзеркало. Методологія показує велику ефективність, коли потрібно відобразити невеликі простори без великої кількості деталей (декору та ін.).

**Screen Space Reflections (SSR)** – цей метод заключається в аналізі вмісту екрана гравців. SSR не генерує відображення для об'єктів, які знаходяться за межами екрана. Це може бути для когось обмеженням, а для когось саме тим варіантом, який дозволить заощадити ресурси машини гравця.

**Ray Tracing** – у 2024 році це найбільш обговорювана методологія та найресурсомістка. Небачений раніше (та й у реальному житті) реалізм досягається шляхом імітації впливу світлових променів на об'єкти в сцені. Найчастіше промені відкидаються на сцену і трасуються при взаємодії з тим чи іншим об'єктом відповідно до фізики реального світу: при зіткненні променя світла з поверхнями, що відбивають, буде створено відбитий промінь, а у разі зіткнення з заломлюючими поверхнями \- світло пройде через цю поверхню.

Все це мабуть я особисто незабаром випробуваю.

### Ідеальне дзеркало для ідеальних людей

*Спотворену копію бага породженого колись великим вибухом*

Десь у середині одного з роликів трапилося дещо важливе. Син сказав, що в іграх дзеркала працюють "правильніше" і більш правильно "копіюють нас". Там вони працюють без помилок і дивно, що ми намагаємося їх зламати.

Ну так. Справді. Так і є.

Ми обговорили той факт, що трасування променів, яке, поза всяким сумнівом, виглядає ефектно, проте є штучною деградацією спочатку “правильної (кориснішою в рамках конкретного завдання) фізики” у 3D вимірі. Цікаво те, що прагнучи ідеально скопіювати нашу дійсність, нам доводиться ламати те, що цієї дійсності й не снилося в 3D просторі, який часом виглядає набагато реалістичніше, ніж ми на фотографіях або тим більше у відображенні. Уявіть, якби дзеркала працювали подібно до камери, копіюючи й відображаючи на поверхні нашу точну копію, саме таку копію, яку бачить наш співрозмовник. Це, до речі, близько до того, коли дружина красується перед камерою смартфона – так, таке дзеркало показує нам, як ми виглядаємо точніше.

### Ігри допомогли розібратися в ситуації, і це стало проміжним підсумком

Коли наш із дружиною син запитав, я не брав паузи для підготовки. Він запитав це тоді, коли йому було цікаво, а не тоді, коли вкотре причепився я з якоюсь своєю дурницею. Мені здалося потрібним дати відповідь негайно.

Після цього він начебто краще розібрався у ситуації. Виявляється це так:

1. Ситуація із відображенням букв пішла, але тут впливає і те, що він продовжує писати прописи;
2. Він практично повністю перестав плутати сторони. Нині це завдання соціальна, а чи не механічна, оскільки синонімом “провідної руки” часто у розмовах покупців, безліч різних персонажів є “права рука”;
3. Найважливіше: під час дії рукостискання він простягає ту руку, яку подає співрозмовник автоматично та без жодних складнощів. Це дуже важливо, і я думаю, що ми рухаємося в напрямку амбідекстрії.

### Висновок: грайте в ігри

Я турбувався, що міг його заплутати, тому не претендую на роль методиста, оскільки методу й немає. Грайте в ігри. Ви часто можете чути, що ігри здебільшого зазнають шкоди, але це неправда. Ігри приносять користь, особливо вони можуть бути корисними дітям.

**Еллі не поступиться дорогою**
Згадуючи давню метафоричну легенду про те, як велетка Еллі (Старість) одним ударом охолодила запал бога війни Тора і він осів на одне коліно, щодо підручників Перельмана скажу ось що: можливо я прочитаю дитині ці два підручники, але краще зробити їх вичитування заздалегідь, а то вийде, як у нас нещодавно з Трьома товстунами. Все це виснажує мою оперативку, так.

## Колекція дзеркал

З моменту перегляду того відео ми робимо скріншоти з ігор, де є дзеркала, оцінюючи їхню реалізацію. Колекція поповнюватиметься.